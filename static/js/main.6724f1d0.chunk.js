(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],[,,,,,,function(e,t,n){e.exports={cellClose:"oneCell_cellClose__m61gg",cellOpen:"oneCell_cellOpen__KyVHc",cellOpenText:"oneCell_cellOpenText__2ZdKl",image:"oneCell_image__35Ksa",flag:"oneCell_flag__3MvgE"}},function(e,t,n){e.exports={Winner:"winner_Winner__3pJ0r",heading:"winner_heading__1ufod",winner:"winner_winner__1ZYIX",textAndInputWrapper:"winner_textAndInputWrapper__37-ql",paragraph:"winner_paragraph__1gSNG",inputWrapper:"winner_inputWrapper__Q6WtU",input:"winner_input__3jViK"}},,function(e,t,n){e.exports={results:"results_results__1g5GR",active:"results_active__2P_qz",heading:"results_heading__2xJkZ"}},function(e,t,n){e.exports={table:"table_table__3Ic_B",tableTh:"table_tableTh__5STLs",tableTr:"table_tableTr__1R_XL",newResult:"table_newResult__1taCx"}},,function(e,t,n){e.exports={gameOver:"gameOver_gameOver__1XsNv",gameOverText:"gameOver_gameOverText__2vaA9",gameOverGG:"gameOver_gameOverGG__2hiM8",gg:"gameOver_gg__3-fLQ"}},function(e,t,n){e.exports={restartButtonWrapper:"restart_restartButtonWrapper__1Cfen",restartButton:"restart_restartButton__2PdD7",image:"restart_image__3v9BK"}},function(e,t,n){e.exports={options:"options_options__1p9M2",active:"options_active__3Y59H",saveButton:"options_saveButton__1F8-3"}},function(e,t,n){e.exports={label:"selectOption_label__1W8rG",select:"selectOption_select__2WOnb",option:"selectOption_option__33FrE"}},,function(e,t,n){e.exports={header:"header_header__16fGl",title:"header_title__2wRP_"}},function(e,t,n){e.exports={minesweeper:"minesweeper_minesweeper__33qms",grid:"minesweeper_grid__8o0BU"}},,,function(e,t,n){e.exports={timer:"timer_timer__D3LhH"}},function(e,t,n){e.exports={optionResultButton:"button_optionResultButton__TvsXB",cancelResultsOptions:"button_cancelResultsOptions__1O88B",restartButton:"button_restartButton__1tss5",saveButton:"button_saveButton__32Jqd"}},function(e,t,n){e.exports={input:"input_input__3Da4F"}},,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(4),i=n.n(s),l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},o=n(5),u=n(2),d=n(3),m=n(39),b=n(19),j=function(e){for(var t=[],n=[],a=1,r=0;r<e;r++){for(var c=0;c<e;c++)t.push({id:a,cell:0,isOpen:!1,haveFlag:!1}),a+=1;n.push(t),t=[]}return n},p=function(e,t,n){for(var a=e.rowI,r=e.colI,c=0,s=Math.max(a-1,0);s<=Math.min(a+1,t-1);s++)for(var i=Math.max(r-1,0);i<=Math.min(r+1,t-1);i++)"bomb"===n[s][i].cell&&(c+=1);return c},O=function(e,t,n,a){var r=function(e,t){for(var n=Object(d.cloneDeep)(t),a=0;a<e;a++)for(var r=0;r<e;r++)if(0===n[a][r].cell){var c=p({rowI:a,colI:r},e,n);n[a][r].cell=0===c?"empty":c}return n}(n,function(e,t,n){for(var a=Object(d.cloneDeep)(n),r=e.rowI,c=e.colI,s=Math.max(r-1,0);s<=Math.min(r+1,t-1);s++)for(var i=Math.max(c-1,0);i<=Math.min(c+1,t-1);i++)"bomb"===a[s][i].cell&&(a[s][i].cell=0);return a}(e,n,function(e,t,n){var a=Object(d.cloneDeep)(n);return a.forEach((function(e){for(var n=Object(d.random)(1,t),a=0;a<n;a++)e[Object(d.random)(e.length-1)].cell="bomb"})),a[e.rowI][e.colI].cell=0,a}(e,t,Object(d.cloneDeep)(a))));return h(e,n,r)},h=function e(t,n,a){var r=t.rowI,c=t.colI,s=Object(o.a)(a),i=p(t,n,s);if(s[r][c].isOpen=!0,0===i)for(var l=Math.max(r-1,0);l<=Math.min(r+1,n-1);l++)for(var u=Math.max(c-1,0);u<=Math.min(c+1,n-1);u++)"bomb"!==s[l][u].cell&&!1===s[l][u].isOpen&&e({rowI:l,colI:u},n,s);return s},f=function(e){var t=Math.floor(e/60),n=e-60*t,a="";return a+=t>0?"".concat(t,"m ").concat(n.toFixed(1),"s"):"".concat(n.toFixed(1),"s")},v=function(e){switch(e){case 1:return"red";case 2:return"blue";case 3:return"green";case 4:return"purple";case 5:return"red";case 6:return"yellow";case 7:return"black";case 8:return"grey";default:return""}},x=n.p+"static/media/bomb.296a9e3a.png",_=n(6),g=n.n(_),N=function(e){var t=e.oneCell,n=e.handleOpen,r=e.hadleRightClick,c=e.gridSize,s=e.isGridDisabled,i=t.isOpen,l=t.haveFlag,o=t.cell,u={flexBasis:"".concat(100/c,"%"),paddingTop:"".concat(100/c,"%")};return Object(a.jsx)(a.Fragment,{children:i?Object(a.jsx)("div",{className:g.a.cellOpen,onContextMenu:function(e){return e.preventDefault()},style:u,children:Object(a.jsxs)("span",{className:"".concat(g.a.cellOpenText," "),style:{color:v(o)},children:[o>0&&o,"bomb"===o&&Object(a.jsx)("img",{className:g.a.image,src:x,alt:"bomb"})]})}):Object(a.jsx)("button",{type:"button",className:"".concat(g.a.cellClose," ").concat(l&&g.a.flag),style:u,onClick:n,disabled:s,onContextMenu:function(e){return r(e)},children:" "})})},S=n(17),w=n.n(S),T=n(21),C=n.n(T),R=function(e){var t=e.isTimerStarted,n=e.resetTimer,c=e.getTimerValue,s=Object(r.useState)(0),i=Object(u.a)(s,2),l=i[0],o=i[1],d=Object(r.useRef)();return Object(r.useEffect)((function(){n&&o(0)}),[n]),Object(r.useEffect)((function(){t?d.current=setInterval((function(){o((function(e){return e+.1}))}),100):(clearInterval(d.current),c(l))}),[t]),Object(a.jsx)("div",{className:C.a.timer,children:f(l)})},I=n(22),y=n.n(I),B=function(e){var t=e.handleClick,n=e.className,r=void 0===n?"button":n,c=e.disabled,s=e.label;return Object(a.jsx)("button",{type:"button",onClick:t,className:y.a["".concat(r)],disabled:c,children:s})},D=function(e){var t=e.isTimerStarted,n=e.resetTimer,r=e.getTimerValue,c=e.handleShowOptions,s=e.handleShowResults;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:w.a.header,children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-xs-12",children:Object(a.jsx)("h3",{className:w.a.title,children:"MINESWEEPER"})})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-xs-3",children:Object(a.jsx)(B,{handleClick:c,className:"optionResultButton",label:"Options"})}),Object(a.jsx)("div",{className:"col-xs-6",children:Object(a.jsx)(R,{isTimerStarted:t,resetTimer:n,getTimerValue:r})}),Object(a.jsx)("div",{className:"col-xs-3",children:Object(a.jsx)(B,{handleClick:s,className:"optionResultButton",label:"Results"})})]})]})})},W=n(9),G=n.n(W),M=n(10),F=n.n(M),z=function(e){var t=e.tableData;return Object(a.jsxs)("table",{className:F.a.table,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{className:F.a.tableTh,children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"name"}),Object(a.jsx)("th",{children:"time"}),Object(a.jsx)("th",{children:"grid size"}),Object(a.jsx)("th",{children:"difficulty"})]})}),Object(a.jsx)("tbody",{children:t.map((function(e,t){var n=e.id,r=e.name,c=e.time,s=e.size,i=e.difficulty,l=e.newResult;return Object(a.jsxs)("tr",{className:"".concat(F.a.tableTr," ").concat(l&&F.a.newResult),children:[Object(a.jsx)("td",{children:t+1}),Object(a.jsx)("td",{children:r.substring(0,12)}),Object(a.jsx)("td",{children:f(c)}),Object(a.jsx)("td",{children:s}),Object(a.jsx)("td",{children:i})]},n)}))})]})},k=function(e){var t=e.showResults,n=e.results,r=e.handleShowResults;return n.sort((function(e,t){return e.time-t.time})).splice(10),Object(a.jsxs)("div",{className:"".concat(G.a.results," ").concat(t&&G.a.active),"data-testid":"results",children:[Object(a.jsx)(B,{handleClick:r,className:"cancelResultsOptions",label:"X"}),n.length>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{className:G.a.heading,children:"RESULTS"}),Object(a.jsx)(z,{tableData:n})]}):Object(a.jsx)("h5",{className:G.a.heading,children:"Results empty..."})]})},V=n(12),E=n.n(V),L=function(){return Object(a.jsxs)("div",{className:E.a.gameOver,children:[Object(a.jsx)("span",{className:E.a.gameOverText,children:"Better luck next time!"}),Object(a.jsx)("span",{className:E.a.gameOverGG,children:" GG"})]})},A=n(7),H=n.n(A),J=n(23),P=n.n(J),X=function(e){var t=e.value,n=e.placeholder,c=void 0===n?"...":n,s=e.className,i=void 0===s?"input":s,l=e.focus,o=void 0!==l&&l,u=e.handleInputName,d=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e;o&&(null===(e=d.current)||void 0===e||e.focus())}),[]),Object(a.jsx)("input",{type:"text",ref:d,placeholder:c,className:P.a["".concat(i)],value:t,onChange:function(e){return u(e)}})},K=function(e){var t=e.winnerName,n=e.handleWinnerName,r=e.handleWinner;return Object(a.jsxs)("div",{className:H.a.Winner,children:[Object(a.jsx)("h1",{className:H.a.heading,children:"Winner!!!"}),Object(a.jsxs)("div",{className:H.a.textAndInputWrapper,children:[Object(a.jsx)("p",{className:H.a.paragraph,children:"enter your name to save results"}),Object(a.jsxs)("div",{className:H.a.inputWrapper,children:[Object(a.jsx)(X,{placeholder:"enter name...",value:t,className:"input",handleInputName:function(e){return n(e)},focus:!0}),Object(a.jsx)(B,{handleClick:r,className:"saveButton",label:"save"})]})]})]})},q=n(13),U=n.n(q),Z=n.p+"static/media/sad.2a18dba4.png",Q=n.p+"static/media/happy.a49e600b.png",Y=function(e){var t=e.handleRestart,n=e.isGameOver;return Object(a.jsx)("div",{className:U.a.restartButtonWrapper,children:Object(a.jsxs)("div",{className:U.a.restartButton,children:[Object(a.jsx)("img",{src:n?Z:Q,alt:"smile",className:U.a.image}),Object(a.jsx)(B,{handleClick:t,className:"restartButton",label:""})]})})},$=n(14),ee=n.n($),te=n(15),ne=n.n(te),ae=function(e){var t=e.value,n=e.name,r=e.label,c=e.optionArr,s=e.classNameLabel,i=void 0===s?"label":s,l=e.classNameSelect,o=void 0===l?"select":l,u=e.classNameOption,d=void 0===u?"option":u,m=e.onChangeHandler;return Object(a.jsxs)("label",{htmlFor:n,className:ne.a["".concat(i)],children:[r," ",Object(a.jsx)("select",{id:n,name:n,value:t,onChange:m,className:ne.a["".concat(o)],children:c.map((function(e){var t=e.optionName,n=e.optionValue;return Object(a.jsx)("option",{value:n,className:ne.a["".concat(d)],children:t},t)}))})]})},re=[{optionName:" small",optionValue:10},{optionName:"medium",optionValue:15},{optionName:"large",optionValue:20}],ce=[{optionName:"easy",optionValue:10},{optionName:"medium",optionValue:3},{optionName:"hard",optionValue:2}],se=function(e){var t=e.showOptions,n=e.handleShowOptions,c=e.saveOptionChanges,s=Object(r.useState)(10),i=Object(u.a)(s,2),l=i[0],o=i[1],d=Object(r.useState)(10),m=Object(u.a)(d,2),b=m[0],j=m[1];return Object(a.jsxs)("div",{className:"".concat(ee.a.options," ").concat(t&&ee.a.active),children:[Object(a.jsx)(B,{handleClick:n,className:"cancelResultsOptions",label:"X"}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae,{value:l,label:"Choose game size",name:"gameSize",onChangeHandler:function(e){return o(parseInt(e.target.value,10))},optionArr:re,classNameLabel:"label",classNameSelect:"select",classNameOption:"option"}),Object(a.jsx)(ae,{value:b,name:"gameDifficulty",label:"Choose difficulty",onChangeHandler:function(e){return j(parseInt(e.target.value,10))},optionArr:ce,classNameLabel:"label",classNameSelect:"select",classNameOption:"option"})]}),Object(a.jsxs)("button",{type:"button",onClick:function(){return c(l,b)},className:ee.a.saveButton,children:[" ","Save"]})]})},ie=(n(31),n(18)),le=n.n(ie),oe=function(){var e=Object(r.useState)(j(10)),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(!1),i=Object(u.a)(s,2),l=i[0],p=i[1],f=Object(r.useState)(!1),v=Object(u.a)(f,2),x=v[0],_=v[1],g=Object(r.useState)(""),S=Object(u.a)(g,2),w=S[0],T=S[1],C=Object(r.useState)([]),R=Object(u.a)(C,2),I=R[0],y=R[1],B=Object(r.useState)(0),W=Object(u.a)(B,2),G=W[0],M=W[1],F=Object(r.useRef)({gridSize:10,difficulty:10,isGameOver:!1,isWinner:!1,isFirstMoveDone:!1,isTimerStarted:!1,isGridDisabled:!1,resetTimer:!1});Object(r.useEffect)((function(){var e=localStorage.getItem("minesweeper");e&&y(JSON.parse(e))}),[]);var z=function(e,t){var a=Object(d.cloneDeep)(n),r={rowI:e,colI:t};if(!n[e][t].haveFlag){if("bomb"===n[e][t].cell){var s=function(e,t){for(var n=Object(d.cloneDeep)(t),a=0;a<e;a++)for(var r=0;r<e;r++)"bomb"===n[a][r].cell&&(n[a][r].isOpen=!0);return n}(F.current.gridSize,a);return F.current.isGameOver=!0,F.current.isGridDisabled=!0,F.current.isTimerStarted=!1,void c(s)}if(F.current.isFirstMoveDone){var i=h(r,F.current.gridSize,a);i[e][t].isOpen=!0,function(e){return!e.some((function(e){return e.some((function(e){return"bomb"!==e.cell&&!e.isOpen}))}))}(i)&&(F.current.isTimerStarted=!1,F.current.isWinner=!0),c(i)}else{F.current.isTimerStarted=!0,F.current.resetTimer=!1,F.current.isFirstMoveDone=!0;var l=Object(d.round)(F.current.gridSize/F.current.difficulty),o=O(r,l,F.current.gridSize,a);c(o)}}},V=function(){F.current.isFirstMoveDone=!1,F.current.isGameOver=!1,F.current.isGridDisabled=!1,F.current.isWinner=!1,F.current.isTimerStarted=!1,F.current.resetTimer=!0,M(0);var e=j(F.current.gridSize);c(e)};return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:le.a.minesweeper,children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-xs-12",children:[Object(a.jsx)(D,{isTimerStarted:F.current.isTimerStarted,resetTimer:F.current.resetTimer,handleShowOptions:function(){_(!x),p(!1)},handleShowResults:function(){p(!l),_(!1)},getTimerValue:function(e){M(e)}}),Object(a.jsx)(k,{showResults:l,results:I,handleShowResults:function(){return p(!1)}}),Object(a.jsx)(se,{gameSize:F.current.gridSize,gameDifficulty:F.current.difficulty,showOptions:x,handleShowOptions:function(){return _(!1)},saveOptionChanges:function(e,t){F.current.gridSize=e,F.current.difficulty=t,V(),_(!1)}})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-xs-12",children:Object(a.jsxs)("div",{className:le.a.grid,style:{maxWidth:"".concat(25*F.current.gridSize,"px")},children:[n.map((function(e,t){return e.map((function(e,r){return Object(a.jsx)(N,{oneCell:e,hadleRightClick:function(e){return function(e,t,a){e.preventDefault();var r=Object(d.cloneDeep)(n);r[t][a].haveFlag=!r[t][a].haveFlag,c(r)}(e,t,r)},handleOpen:function(){return z(t,r)},isGridDisabled:F.current.isGridDisabled,gridSize:F.current.gridSize},e.id)}))})),Object(a.jsx)(Y,{handleRestart:function(){return V()},isGameOver:F.current.isGameOver}),F.current.isGameOver&&Object(a.jsx)(L,{}),F.current.isWinner&&Object(a.jsx)(K,{winnerName:w,handleWinnerName:function(e){return T(e.target.value)},handleWinner:function(){return function(){if(w){var e=Object(o.a)(I);e.forEach((function(e){e.newResult=!1}));var t=re.findIndex((function(e){return e.optionValue===F.current.gridSize})),n=ce.findIndex((function(e){return e.optionValue===F.current.difficulty})),a={id:Object(m.a)(),name:w,time:G,size:re[t].optionName,difficulty:ce[n].optionName,newResult:!0};b.b.success("Result added!",{autoClose:5e3,style:{background:"#e07a5f",fontSize:"40px",color:"#3d405b",width:"400px",minHeight:"100px"}}),localStorage.setItem("minesweeper",JSON.stringify([].concat(Object(o.a)(e),[a]))),y([].concat(Object(o.a)(e),[a])),T(""),M(0),V(),p(!0)}else alert("enter name!")}()}})]})})})]}),Object(a.jsx)(b.a,{})]})};n(34);i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(oe,{})}),document.getElementById("root")),l()}],[[35,1,2]]]);
//# sourceMappingURL=main.6724f1d0.chunk.js.map